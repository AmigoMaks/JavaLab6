import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

public class MovingSphere extends JPanel implements ActionListener {

    private static final int WINDOW_WIDTH = 800;
    private static final int WINDOW_HEIGHT = 600;
    private static final int DELAY = 10;
    
    private double currentDiameter = 15;
    private final double speed = 2.0;
    private final double MAX_DIAMETER = 350;
    private final double MIN_DIAMETER = 15;
    
    private boolean isApproaching = true;
    
    private final Timer timer;

    public MovingSphere() {
        this.setPreferredSize(new Dimension(WINDOW_WIDTH, WINDOW_HEIGHT));
        this.setBackground(Color.BLACK);
        this.setDoubleBuffered(true);

        timer = new Timer(DELAY, this);
        timer.start();
    }

    @Override
    protected void paintComponent(Graphics g) {
        super.paintComponent(g);

        Graphics2D g2d = (Graphics2D) g;
        
        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);

        int centerX = getWidth() / 2;
        int centerY = getHeight() / 2;
        int radius = (int) (currentDiameter / 2);

        int x = centerX - radius;
        int y = centerY - radius;

        if (currentDiameter > 0) {
            float[] dist = {0.0f, 1.0f};
            Color[] colors = {Color.CYAN, Color.BLUE};
            
            RadialGradientPaint p = new RadialGradientPaint(
                    new Point(centerX - (radius/3), centerY - (radius/3)), 
                    (float) currentDiameter/2, 
                    dist, 
                    colors
            );
            
            g2d.setPaint(p);
            g2d.fillOval(x, y, (int)currentDiameter, (int)currentDiameter);
        }
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        if (isApproaching) {
            currentDiameter += speed;
            if (currentDiameter >= MAX_DIAMETER) {
                currentDiameter = MAX_DIAMETER;
                isApproaching = false; 
            }
        } else {
            currentDiameter -= speed;
            if (currentDiameter <= MIN_DIAMETER) {
                currentDiameter = MIN_DIAMETER;
                isApproaching = true;
            }
        }

        repaint();
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(() -> {
            JFrame frame = new JFrame("Approaching & Receding Sphere");
            MovingSphere simulation = new MovingSphere();
            
            frame.add(simulation);
            frame.pack();
            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
            frame.setLocationRelativeTo(null);
            frame.setVisible(true);
        });
    }
}
